[["remesas.html", "Proyecto de grado - Remesas 1 REMESAS 1.1 INTRODUCCIÓN 1.2 BASE DE DATOS", " Proyecto de grado - Remesas Analisis de Series de Tiempo Grupo 5 - William Contreras, Camilo Espinoza, Jorge Agredo 2024-12-04 1 REMESAS 1.1 INTRODUCCIÓN Las remesas son transferencias de dinero realizadas principalmente por emigrantes a sus familiares o relacionados en su país de origen. En este proceso participan los siguientes actores: remitente (persona que desde el país de origen se acerca a un agente para enviar un determinado monto), el agente en el lugar de origen (oficina donde se inicia la operación financiera), la empresa de transferencia de dinero (empresa que hace el traslado del monto del país de origen al país destino), el agente en el lugar de pago (oficina donde se realiza el desembolso del dinero) y el receptor (persona que en el país de destino recibe el dinero). Las transferencias entre la empresa de transferencia y los agentes se realizan en dólares, y las tasas de cambio se fijan en la fecha de origen de la transacción con una tasa de referencia establecida para cada país. Esto significa que todas las transacciones iniciadas en el día  se pagarán según la tasa de referencia correspondiente a ese día. Esto genera un desafío para los agentes en el lugar de pago, dado que la tasa de pago asociada a las operaciones es informada al remitente y se fija según la tasa de referencia vigente en la fecha de origen y se mantiene inalterada hasta que el giro es cobrado. Existe una exposición a la volatilidad de la tasa de cambio entre el día inicial de la transacción y la fecha de cobro. Estas transacciones se identifican el día en que se realiza el pago al receptor, momento en que la tasa de mercado a la que el agente de pago convierte a moneda local los dólares recibidos por la empresa de transferencia de dinero puede haber variado con relación a la tasa de cambio con la que se fijó la conversión al momento de la originación de la remesa. En resumen, hay transacciones pagadas en el día  que tienen como referencia una tasa de cambio de un día diferente, y el agente del lugar de pago puede monetizar (convertir de dólares a pesos colombianos) a la tasa del día . De esta forma, en escenarios de revaluación del peso colombiano, es decir, caídas en la tasa de cambio, se generarían menores ingresos o pérdidas por concepto de monetización de dólares, materializándose el riesgo cambiario. Este proceso se ve afectado por las celebraciones especiales en cada uno de los países, tales como día de amor y amistad, día de la madre, navidad, etc. 1.2 BASE DE DATOS Según lo expuesto anteriormente, se identifican las siguientes variables para el conjunto de datos provisto por una entidad que realiza remesas en Colombia bajo acuerdo de confidencialidad: Fecha de pago. Canal. Pais de Origen. Número de transacciones. Fecha de origen. Monto en dolares. Monto en Pesos. En relación con la importancia de analizar esta información enfocado en la variable tiempo se puede decir que; el análisis de las variables de tipo fecha (Fecha origen de la operación y Fecha de pago) es crucial debido a la volatilidad de las tasas de cambio entre el día en que se origina la remesa y el día en que se paga. Por otra parte, el pronóstico del monto total a pagar en remesas es esencial para mitigar este riesgo, permitiendo anticipar posibles pérdidas por variaciones en la tasa de cambio y tomar decisiones informadas sobre cobertura y gestión del riesgo. Inicialmente los datos comprenden el periodo entre el primero de enero de 2023 hasta el 10 de octubre de 2024 de forma díaria, pero se irá aumentando los datos en la medida que la empresa entregue la información. "],["descripción-de-las-series-de-tiempo.html", "2 DESCRIPCIÓN DE LAS SERIES DE TIEMPO 2.1 Serie de tiempo por fecha de origen de la remesa.", " 2 DESCRIPCIÓN DE LAS SERIES DE TIEMPO A continuación se presenta la base incluyendo la variable en el tiempo, la aproximación en promedios móviles, en rezagos y en estacionalidad. Todo lo anterior, a través de funciones y gráficas que permitan detectar patrones y ciclos de la variable. ## Rows: 47,668,938 ## Columns: 11 ## $ `Tipo de Pago` &lt;chr&gt; &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, &quot;PGI&quot;, … ## $ Fecha_Pago &lt;date&gt; 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, … ## $ Pais_Origen &lt;chr&gt; &quot;US&quot;, &quot;US&quot;, &quot;GB&quot;, &quot;US&quot;, &quot;US&quot;, &quot;US&quot;, &quot;EC&quot;, &quot;IT&quot;, &quot;US&quot;, &quot;ES&quot;, &quot;GB&quot;, &quot;US&quot;, &quot;US&quot;, &quot;US&quot;, &quot;PA&quot;, &quot;US&quot;, &quot;US&quot;, &quot;US&quot;, &quot;MX&quot;, &quot;US&quot;, &quot;US&quot;, &quot;EC&quot;, &quot;… ## $ Fecha_Origen &lt;date&gt; 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, 2019-01-01, … ## $ Monto_USD &lt;dbl&gt; 489.04, 160.00, 156.19, 320.00, 80.00, 1990.00, 1160.00, 56.19, 100.00, 77.74, 120.15, 55.00, 2200.00, 20.00, 500.00, 50.00, 210.00, … ## $ Monto_COP &lt;dbl&gt; 1568601, 498618, 508857, 997236, 249309, 6330759, 3727948, 183068, 313097, 253289, 391429, 171400, 6816003, 62328, 1603628, 153921, 6… ## $ Canal &lt;chr&gt; &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, &quot;APN&quot;, … ## $ `Tasa de pago` &lt;dbl&gt; 3207.51, 3116.36, 3257.94, 3116.36, 3116.36, 3181.29, 3213.75, 3258.02, 3130.97, 3258.16, 3257.84, 3116.36, 3098.18, 3116.40, 3207.26… ## $ `Dif dias` &lt;chr&gt; &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;… ## $ TRM &lt;dbl&gt; 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75, 3249.75… ## $ `Dif Tasa` &lt;dbl&gt; -42.24, -133.39, 8.19, -133.39, -133.39, -68.46, -36.00, 8.27, -118.78, 8.41, 8.09, -133.39, -151.57, -133.35, -42.49, -171.33, -133.… Como se puede observar en la tabla resumen; la base de datos se compone de 11 variables: 2 tipo fecha: “Fecha_pago” y “Fecha_Origen”, 5 numericas: “Monto_USD”, “Monto_COP” ,“Tasa de pago”, “TRM” y “Dif Tasa” y 4 tipo texto: “Tipo de Pago”, “Pais_Origen”, “Canal” y “Dif dias”. Con el objetivo de observar el comportamiento de las remesas en el tiempo, se realizará la descripción por la variable tipo fecha Fecha_Origen. 2.1 Serie de tiempo por fecha de origen de la remesa. Se agrupa el monto en dólares por la variable objetivo. Datos_df$Fecha_Origen &lt;- as.Date(Datos_df$Fecha_Origen) Datos_filtrados &lt;- Datos_df %&gt;% filter(Fecha_Origen &gt;= as.Date(&quot;2019-01-01&quot;)) Datos_FO &lt;- aggregate(Monto_USD ~ Fecha_Origen, data = Datos_filtrados, sum) Se verifica el tipo de variable. ## [1] &quot;ts&quot; La fecha inicial ## [1] 2019 1 La fecha final ## [1] 2024 285 Se puede evidenciar que comienza el día 1 del 2019 y finaliza el día 285 del año 2024. Se validó que las fechas fueran consecutivas y no existieran fechas faltantes. fecha_min &lt;- min(Datos_FO$Fecha_Origen) fecha_max &lt;- max(Datos_FO$Fecha_Origen) fechas_completas &lt;- seq(from = fecha_min, to = fecha_max, by = &quot;day&quot;) fechas_faltantes &lt;- setdiff(fechas_completas, Datos_FO$Fecha_Origen) fechas_faltantes ## numeric(0) A continuación se realiza el gráfico del monto en dólares por fecha de origen de la remesa. 2.1.1 Uso de la librería “XTS” A pesar de conocer que la base es regular con periodicidad diaria, se decidió usar la libreria “XTS” por la utilización de las fechas exactas. # Crear la serie de tiempo serie_xts &lt;- xts(Datos_FO$Monto_USD, order.by = Datos_FO$Fecha_Origen) head(serie_xts) ## [,1] ## 2019-01-01 3266297 ## 2019-01-02 3952565 ## 2019-01-03 3305953 ## 2019-01-04 2664262 ## 2019-01-05 2873657 ## 2019-01-06 2987190 2.1.2 Gráfico de rezago para la serie de tiempo Según la gráfica parece que existe algo de autocorrelación hasta el rezago 4, para mayores rezagos esa relación se vuelve más difusa. 2.1.3 Promedios móviles 2.1.3.1 Promedio Móvil Simple (SMA) El promedio móvil simple es una técnica estadística utilizada para suavizar series de tiempo mediante la creación de un promedio de los valores en un intervalo específico de tiempo. Permite facilitar la identificación de tendencias subyacentes al hacer que las variaciones estacionales y aleatorias sean menos evidentes. Una de sus ventajas es que proporciona una visión clara de la tendencia general de los datos a lo largo del tiempo. SMA se usa principalmente en análisis financiero, como en el seguimiento de precios de acciones, proyecciones de ventas, y otras métricas de negocio. 2.1.3.2 Promedio Móvil Exponencial (EMA). Es similar al promedio móvil simple (SMA), pero con un enfoque que da más peso a los datos más recientes. Este puede ser más representativo de la tendencia actual en series de tiempo con alta volatilidad. Se aplica en diversas áreas de análisis de datos, como en el monitoreo de ventas, pronósticos de demanda, y otros indicadores de rendimiento. En las gráficas se puede observar como los promedios eliminan el ruido de los picos ocasionados los días de fin de semana, donde se realizan menos pagos de remesas sabados, domingos y festivos y mayores pagos en los días viernes. "],["dias-festivos-en-colombia-y-estados-unidos.html", "3 DIAS FESTIVOS EN COLOMBIA Y ESTADOS UNIDOS 3.1 Set de datos con los dias festivos en Colombia 3.2 Set de datos con los dias festivos en Estados Unidos 3.3 Series de datos para feriados en Colombia y Estados Unidos 3.4 Tratamiento al set de datos original", " 3 DIAS FESTIVOS EN COLOMBIA Y ESTADOS UNIDOS 3.1 Set de datos con los dias festivos en Colombia Se incluye en este set de datos otras festividades de Colombia que no necesariamente estan marcadas como dias festivos, pero son importantes para los modelos. ## # A tibble: 6 × 3 ## Fecha Dia_Semana Festividad ## &lt;dttm&gt; &lt;chr&gt; &lt;chr&gt; ## 1 2019-01-01 00:00:00 Martes Año Nuevo ## 2 2019-01-06 00:00:00 Domingo Día de la Epifanía ## 3 2019-01-07 00:00:00 Lunes Día de los Reyes Magos ## 4 2019-03-02 00:00:00 Sábado Carnaval de Barranquilla (Inicio) ## 5 2019-03-05 00:00:00 Martes Carnaval de Barranquilla (Fin) ## 6 2019-03-25 00:00:00 Lunes Día de San José 3.2 Set de datos con los dias festivos en Estados Unidos Se incluye en este set de datos otras festividades de Estados Unidos que no necesariamente estan marcadas como dias festivos, pero son importantes para los modelos. # Carga de festivos en Estados Unidos festivos_eeuu &lt;- drive_get(&quot;Festivos_EEUU_2019_2024.xlsx&quot;) drive_download(festivos_eeuu, path = &quot;Festivos_EEUU_2019_2024.xlsx&quot;, overwrite = TRUE) fest_eeuu &lt;- read_excel(&quot;Festivos_EEUU_2019_2024.xlsx&quot;) head(fest_eeuu) ## # A tibble: 6 × 3 ## Fecha Dia_Semana Festividad ## &lt;dttm&gt; &lt;chr&gt; &lt;chr&gt; ## 1 2019-01-01 00:00:00 Martes Año Nuevo ## 2 2019-01-21 00:00:00 Lunes Día de Martin Luther King Jr. ## 3 2019-02-14 00:00:00 Jueves Valentine&#39;s Day ## 4 2019-02-18 00:00:00 Lunes Día de los Presidentes ## 5 2019-03-17 00:00:00 Domingo St. Patrick&#39;s Day ## 6 2019-05-12 00:00:00 Domingo Mother&#39;s Day 3.3 Series de datos para feriados en Colombia y Estados Unidos 3.3.1 Colombia ## [,1] ## 2019-01-01 1 ## 2019-01-06 7 ## 2019-01-07 13 ## 2019-03-02 3 ## 2019-03-05 2 ## 2019-03-25 15 ## [1] &quot;xts&quot; &quot;zoo&quot; ## [1] &quot;2019-01-01 UTC&quot; ## [1] &quot;2024-12-30 UTC&quot; Prueba de Dickey-Fuller Aumentada (ADF) ## ## Augmented Dickey-Fuller Test ## ## data: serie_fest_col ## Dickey-Fuller = -10.742, Lag order = 5, p-value = 0.01 ## alternative hypothesis: stationary 3.3.2 Estados Unidos ## [,1] ## 2019-01-01 1 ## 2019-01-21 8 ## 2019-02-14 15 ## 2019-02-18 6 ## 2019-03-17 14 ## 2019-05-12 12 ## [1] &quot;xts&quot; &quot;zoo&quot; ## [1] &quot;2019-01-01 UTC&quot; ## [1] &quot;2024-12-25 UTC&quot; Prueba de Dickey-Fuller Aumentada (ADF) ## ## Augmented Dickey-Fuller Test ## ## data: serie_fest_eeuu ## Dickey-Fuller = -6.0964, Lag order = 4, p-value = 0.01 ## alternative hypothesis: stationary 3.4 Tratamiento al set de datos original Inicialmente se agrupa la informacion or fecha de origen y canal para obtener el total del monto en dolares. ## # A tibble: 6 × 3 ## Fecha_Origen Canal Monto_Total_USD ## &lt;date&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 2019-01-01 APN 14287. ## 2 2019-01-01 Corresponsales 723701. ## 3 2019-01-01 RedPropia 2528309. ## 4 2019-01-02 APN 26896. ## 5 2019-01-02 Corresponsales 891710. ## 6 2019-01-02 RedPropia 3033960. Seguidamente, se transforma la coluna Canal, de tal forma que se visualice el porcentaje del monto que se origino por cada uno de ellos, reduciendo a una sola fila por cada fecha de origen de la remasa. ## # A tibble: 6 × 5 ## Fecha_Origen Porcentaje_APN Porcentaje_Corr Porcentaje_RP Monto_Total_USD ## &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 2019-01-01 0.44% 22.16% 77.41% 3266297. ## 2 2019-01-02 0.68% 22.56% 76.76% 3952565. ## 3 2019-01-03 1.24% 22.46% 76.3% 3305953. ## 4 2019-01-04 1.75% 20.47% 77.78% 2664262. ## 5 2019-01-05 0.74% 20.61% 78.65% 2873657. ## 6 2019-01-06 0.24% 22.19% 77.57% 2987190. 3.4.1 Variable festivo en colombia Se añade la columna Festivo_Col al set de datos tratado anteriormente, dicha columna permite identificar con un 1 si el dia de originacion es festivo o 0 en caso contrario. ## # A tibble: 6 × 6 ## Fecha_Origen Porcentaje_APN Porcentaje_Corr Porcentaje_RP Monto_Total_USD Festivo_Col ## &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 2019-01-01 0.44% 22.16% 77.41% 3266297. 1 ## 2 2019-01-02 0.68% 22.56% 76.76% 3952565. 0 ## 3 2019-01-03 1.24% 22.46% 76.3% 3305953. 0 ## 4 2019-01-04 1.75% 20.47% 77.78% 2664262. 0 ## 5 2019-01-05 0.74% 20.61% 78.65% 2873657. 0 ## 6 2019-01-06 0.24% 22.19% 77.57% 2987190. 1 3.4.2 Variable festivo en Estados Unidos Se añade la columna Festivo_eeuu al set de datos tratado anteriormente, dicha columna permite identificar con un 1 si el dia de originacion es festivo o 0 en caso contrario. ## # A tibble: 6 × 7 ## Fecha_Origen Porcentaje_APN Porcentaje_Corr Porcentaje_RP Monto_Total_USD Festivo_Col Festivo_eeuu ## &lt;date&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 2019-01-01 0.44% 22.16% 77.41% 3266297. 1 0 ## 2 2019-01-02 0.68% 22.56% 76.76% 3952565. 0 0 ## 3 2019-01-03 1.24% 22.46% 76.3% 3305953. 0 0 ## 4 2019-01-04 1.75% 20.47% 77.78% 2664262. 0 0 ## 5 2019-01-05 0.74% 20.61% 78.65% 2873657. 0 0 ## 6 2019-01-06 0.24% 22.19% 77.57% 2987190. 1 0 "]]
